
                    Student Management TApplication - front end 


Project Explination Frontend


This is the frontend module of a full-stack Student Management System built with:
Angular 17.3
TypeScript 5.4.2
RxJS 7.8.0
Google OAuth integration
JWT token-based authentication

The frontend provides a responsive web interface for students and administrators
with separate login portals, dashboard, and management features.


Technology Used


Angular 17.3 (Framework)
TypeScript 5.4.2 (Language)
RxJS 7.8.0 (Reactive programming)
Angular Router (Routing)
Angular Forms (Form handling)
Angular Animations (UI animations)
Google OAuth (gapi-script) (Authentication)
Express 4.18.2 (Server-side rendering)


Project Structure


loginpage/loginpageapp/
src/
 app/
 admin-login/              # Admin login component
 course-add/               # Add course component
 course-list/              # Course list component
 course-update/             # Update course component
 edit-student/             # Edit student component
 email-queue/               # Email queue component
 home/                     # Home component
 interceptors/              # HTTP interceptors
 items/                    # Items component
 marks-card/               # Marks card component
 notifications/            # Notifications component
 overview/                 # Dashboard/overview component
 role-management/          # Role management component
 services/                 # Angular services
 student-enroll/           # Student enrollment component
 student-list/             # Student list component
 student-management/       # Student management component
 student-performance/      # Performance analytics component
 user-management/          # User management component
 app.component.ts          # Root component
 app.component.html        # Root template
 app.component.css         # Root styles
 app.config.ts             # Application configuration
 app.config.server.ts      # Server-side configuration
 app.routes.ts             # Routing configuration
 assets/                   # Static assets
 environments/             # Environment configuration
 index.html                # Main HTML file
 main.ts                   # Application entry point
 main.server.ts            # Server entry point
 styles.css                # Global styles
 angular.json              # Angular CLI configuration
 package.json              # Dependencies and scripts
 server.ts                 # Express server configuration
 tsconfig.json             # TypeScript configuration



Main Components

1. AppComponent (app.component.ts)
   Location: src/app/app.component.ts
   Purpose: Root component of the application
   Features:
   Student login portal (Google OAuth only)
   Handles authentication flow
   Manages user session
   Sidebar navigation
   Route-based content display
   Google OAuth initialization
   JWT token management
   Routes:
   / (root) - Shows student login if not authenticated
   Redirects to /overview after login

2. AdminLoginComponent (admin-login/)
   Location: src/app/admin-login/
   Purpose: Admin-only login page
   Features:
   Username/password authentication
   Google OAuth support for admins
   Admin role validation
   Error handling
   Route: /admin-login

3. OverviewComponent (overview/)
   Location: src/app/overview/
   Purpose: Dashboard/overview page
   Features:
   Statistics and metrics display
   Quick access links
   Dashboard widgets
   User information display
   Route: /overview

4. HomeComponent (home/)
   Location: src/app/home/
   Purpose: Home page
   Features:
   Welcome page
   General information
   Route: /home

5. StudentListComponent (student-list/)
   Location: src/app/student-list/
   Purpose: Display list of all students
   Features:
   Student listing with pagination
   Student filtering and search
   Student details display
   Route: /student-list

6. EditStudentComponent (edit-student/)
   Location: src/app/edit-student/
   Purpose: Edit student information
   Features:
   Student edit form
   Form validation
   Update student data
   Route: /edit-student/:id

7. StudentManagementComponent (student-management/)
   Location: src/app/student-management/
   Purpose: Comprehensive student management
   Features:
   Full student CRUD operations
   Student search and filter
   Bulk operations
   Route: /student-management

8. StudentEnrollComponent (student-enroll/)
   Location: src/app/student-enroll/
   Purpose: Enroll students in courses
   Features:
   Course enrollment interface
   Course selection
   Enrollment confirmation
   Route: /student-enroll/:id

9. CourseListComponent (course-list/)
   Location: src/app/course-list/
   Purpose: Display list of all courses
   Features:
   Course listing
   Course details
   Course filtering
   Route: /course-list

10. CourseAddComponent (course-add/)
    Location: src/app/course-add/
    Purpose: Add new courses
    Features:
    Course creation form
    Form validation
    Course code validation
    Route: /course-add

11. CourseUpdateComponent (course-update/)
    Location: src/app/course-update/
    Purpose: Update course information
    Features:
    Course edit form
    Update course data
    Form validation
    Route: /course-update/:id

12. MarksCardComponent (marks-card/)
    Location: src/app/marks-card/
    Purpose: Display student marks card
    Features:
    Marks card display
    Grade calculation
    Performance visualization
    Route: /marks-card/:id

13. StudentPerformanceComponent (student-performance/)
    Location: src/app/student-performance/
    Purpose: Student performance analytics
    Features:
    Performance charts
    Analytics dashboard
    Performance metrics
    Route: /student-performance

14. NotificationsComponent (notifications/)
    Location: src/app/notifications/
    Purpose: In-app notifications
    Features:
    Notification list
    Notification status
    Mark as read/unread
    Route: /notifications

15. EmailQueueComponent (email-queue/)
    Location: src/app/email-queue/
    Purpose: Email queue management
    Features:
    Email queue display
    Email status tracking
    Email management
    Route: /email-queue

16. UserManagementComponent (user-management/)
    Location: src/app/user-management/
    Purpose: Admin-only user creation
    Features:
    Create ADMIN and TEACHER users
    User form with validation
    Role selection
    Password management
    Route: /user-management
    Access: ADMIN only

17. RoleManagementComponent (role-management/)
    Location: src/app/role-management/
    Purpose: Role management interface
    Features:
    Role assignment
    Role management
    User role updates

18. ItemsComponent (items/)
    Location: src/app/items/
    Purpose: General items display
    Features:
    Items listing
    General purpose component
    Route: /items

Services
1. AuthRoleService (services/auth-role.service.ts)
   Purpose: Authentication and role management
   Features:
   JWT token management
   User role management
   Authentication state tracking
   Token storage in localStorage
   Token expiration checking
   User role retrieval
   Logout functionality
   Methods:
   setToken(token, role, email) - Store authentication data
   getToken() - Get JWT token
   getRole() - Get user role
   getEmail() - Get user email
   isAuthenticated() - Check authentication status
   isAdmin() - Check if user is admin
   logout() - Clear authentication data
   createRoleHeaders() - Create HTTP headers with token

2. StudentService (services/student.service.ts)
   Purpose: Student data management
   Features:
   Student CRUD operations
   API communication for students
   Marks management
   Student filtering
   Bulk operations
   Methods:
   getStudents() - Get all students
   getStudentById(id) - Get student by ID
   createStudent(student) - Create student
   updateStudent(id, student) - Update student
   deleteStudent(id) - Delete student
   getMarks(studentId) - Get student marks
   addMarks(studentId, marks) - Add marks
   getMarksCard(studentId) - Get marks card

3. CourseService (services/course.service.ts)
   Purpose: Course data management
   Features:
   Course CRUD operations
   API communication for courses
   Course filtering
   Methods:
   getCourses() - Get all courses
   getCourseById(id) - Get course by ID
   createCourse(course) - Create course
   updateCourse(id, course) - Update course
   deleteCourse(id) - Delete course

4. AdminService (services/admin.service.ts)
   Purpose: Admin operations
   Features:
   Admin-specific operations
   Email management
   Admin dashboard data
   Methods:
   sendBroadcastEmail(request) - Send broadcast email
   sendIndividualEmail(request) - Send individual email
   getEmailStatus() - Get email queue status

5. UserAdminService (services/user-admin.service.ts)
   Purpose: User administration
   Features:
   User creation (ADMIN/TEACHER)
   User management
   Methods:
   createUser(userData) - Create new user
   Validate user data
   Handle user creation errors


Interceptors


AuthInterceptor (interceptors/auth.interceptor.ts)
Purpose: Automatic JWT token injection and error handling
Features
Automatically adds JWT token to HTTP requests
Handles 401 Unauthorized responses
Redirects to login on token expiration
Clears authentication data on errors
Token validation before requests

Implementation:
Intercepts all HTTP requests
Adds Authorization: Bearer <token> header
Handles 401 responses by:
  Clearing localStorage
  Redirecting to login page
  Showing error message


Routing (app.routes.ts)


Routes Configuration:
 /(root)
  Redirects to /overview if authenticated
  Shows student login if not authenticated

/overview
  Dashboard/overview page
  Component: OverviewComponent

/home
  Home page
  Component: HomeComponent

/student-list
  Student list page
  Component: StudentListComponent

/edit-student/:id
  Edit student page
  Component: EditStudentComponent
  Parameter: id (student ID)

/student-management
  Student management page
  Component: StudentManagementComponent

/student-enroll/:id
 Student enrollment page
 Component: StudentEnrollComponent
 Parameter: id (student ID)

/course-list
  Course list page
  Component: CourseListComponent

/course-add
  Add course page
  Component: CourseAddComponent

/course-update/:id
  Update course page
  Component: CourseUpdateComponent
  Parameter: id (course ID)

/marks-card/:id
  Marks card page
  Component: MarksCardComponent
  Parameter: id (student ID)

/student-performance
 Performance analytics page
 Component: StudentPerformanceComponent

/notifications
  Notifications page
  Component: NotificationsComponent

/email-queue
  Email queue page
  Component: EmailQueueComponent

/user-management
  User management page (ADMIN only)
  Component: UserManagementComponent

/items
  Items page
  Component: ItemsComponent

/admin-login
  Admin login page
  Component: AdminLoginComponent

Configuration
app.config.ts
Application configuration
HTTP client configuration
Interceptor registration
Provider configuration

app.config.server.ts
Server-side rendering configuration
Express server setup
SSR-specific providers

environment.ts
Environment variables
API base URL configuration
Google OAuth Client ID
Production/development settings

angular.json
Angular CLI configuration
Build configuration
Serve configuration
Asset paths
Style configurations

package.json
Dependencies and versions
Scripts:
  ng serve - Development server
  ng build - Production build
  ng test - Run tests
  npm start - Start development server

tsconfig.json
TypeScript compiler configuration
Compiler options
Path mappings
Module resolution

Authenication Flow
Student Login (Root Route - /):
1. User visits root URL (/)
2. AppComponent shows student login form
3. User clicks "Sign in with Google"
4. Google OAuth popup opens
5. User authenticates with Google
6. Google returns ID token
7. Frontend sends token to backend (/api/auth/google)
8. Backend validates token and returns JWT
9. Frontend stores JWT in localStorage
10. User is redirected to /overview
11. All subsequent API requests include JWT token

Admin Login (Admin Route - /admin-login):
1. User visits /admin-login
2. AdminLoginComponent shows admin login form
3. User can either:
   a) Enter username/password
   b) Use Google OAuth
4. For username/password:
   - Frontend sends credentials to /api/auth/login
   - Backend validates and returns JWT
5. For Google OAuth:
a. User visits root URL (/)
b. AppComponent shows  login form
c. User clicks "Sign in with Google"
d. Google OAuth popup opens
e. User authenticates with Google
f. Google returns ID token
g. Frontend sends token to backend (/api/auth/google)
h. Backend validates token and returns JWT
i. Frontend stores JWT in localStorage
j. User is redirected to /overview
k. All subsequent API requests include JWT token

6. Frontend stores JWT in localStorage
7. User is redirected to /overview
8. All subsequent API requests include JWT token

API Requests:
1. HTTP interceptor intercepts all requests
2. Gets JWT token from localStorage
3. Adds Authorization: Bearer <token> header
4. Sends request to backend
5. Backend validates token
6. If valid: Request proceeds
7. If invalid (401): Interceptor redirects to login

Token Management:
Storage: localStorage
Keys:
   app.jwtToken - JWT token
   app.userRole - User role
   app.userEmail - User email
Expiration: Checked before requests
Cleanup: Automatic on logout or 401 error


GOOGLE OAUTH INTEGRATION
Configuration:
Google Client ID configured in environment.ts
Google OAuth library loaded from CDN
OAuth consent screen configured in Google Console

Initialization:
Google OAuth initialized in AppComponent
Uses ngZone for Angular change detection
Handles OAuth callback

Flow:
1. User clicks "Sign in with Google"
2. Google OAuth popup opens
3. User selects Google account
4. Google returns credential (ID token)
5. Frontend sends ID token to backend
6. Backend verifies token with Google
7. Backend creates/updates user in database
8. Backend generates JWT token
9. Frontend receives JWT and stores it

Error Handling:
Invalid credentials
Network errors
Role validation errors
Token expiration

Api Communoication


Base URL:
Development: http://localhost:8080

Headers:
Content-Type: application/json
Authorization: Bearer <jwt-token> (added by interceptor)

Endpoints Used:
Authentication:
POST /api/auth/login
POST /api/auth/google
POST /api/auth/admin/users

Students:
GET /api/students
GET /api/students/{id}
POST /api/students
PUT /api/students/{id}
DELETE /api/students/{id}
GET /api/students/{studentId}/marks
POST /api/students/{studentId}/marks
GET /api/students/{studentId}/marks-card

Courses:
GET /api/courses
GET /api/courses/{id}
POST /api/courses
PUT /api/courses/{id}

Admin:
POST /api/admin/email-broadcast
POST /api/admin/email-student
GET /api/admin/email-status

Error Handling:
 401 Unauthorized: Redirect to login
 403 Forbidden: Show access denied message
 404 Not Found: Show not found message
 500 Server Error: Show error message
 Network errors: Show connection error

Application Building 
Development:
Install dependencies: npm install
Start development server: ng serve or npm start
Application runs on: http://localhost:4200
Hot reload enabled
Source maps enabled

Production Build:
Build command: ng build
Output directory: dist/loginpageapp/
Optimizations:
   Code minification
   Tree shaking
   AOT compilation
   Bundle optimization

Server-Side Rendering (SSR):
Build SSR: ng build --configuration production
Run SSR: npm run serve:ssr:loginpageapp
Express server configuration in server.ts

Environment Configuration:
Development: environment.ts
API URLs configured per environment
Google Client ID per environment


Dependencies (package.json)
Core Dependencies:

@angular/core 17.3.0
@angular/common 17.3.0
@angular/compiler 17.3.0
@angular/platform-browser 17.3.0
@angular/platform-browser-dynamic 17.3.0
@angular/platform-server 17.3.0
@angular/router 17.3.0
@angular/forms 17.3.0
@angular/animations 17.3.0
@angular/ssr 17.3.17

Utilities:
rxjs 7.8.0
tslib 2.3.0
zone.js 0.14.3
express 4.18.2

Dev Dependencies:
@angular-devkit/build-angular 17.3.17
@angular/cli 17.3.17
@angular/compiler-cli 17.3.0
typescript 5.4.2
@types/express 4.17.17
@types/node 18.18.0
jasmine-core 5.1.0
karma 6.4.0


Features
Student Management:
View student list
Add new students
Edit student information
Delete students
Search and filter students
View student details
Student enrollment in courses

Course Management:
View course list
Add new courses
Edit course information
Delete courses
Course filtering
Course details

Marks Management:
View student marks
Add marks for students
Update marks
View marks card
Performance analytics

Authentication:
Google OAuth login (students)
Username/password login (admins)
Google OAuth login (admins)
JWT token management
Role-based access control
Automatic token refresh
Session management

User Management:
Create ADMIN users (admin only)
Create TEACHER users (admin only)
User form validation
Password management

Email Management:
Send broadcast emails
Send individual emails
Email queue management
Email status tracking

Notifications:
In-app notifications
Notification status
Mark as read/unread

Dashboard:
Overview statistics
Quick access links
User information
Dashboard widgets

Security Features


1. JWT Token Authentication
   Tokens stored in localStorage
   Automatic token injection via interceptor
   Token expiration checking
   Automatic logout on expiration

2. Role-Based Access Control
   Frontend role checking
   Route protection based on role
   Component-level access control
   Service-level authorization

3. Secure API Communication
   HTTPS recommended for production
   Token-based authentication
   CORS configuration
   Error handling

4. Input Validation
   Form validation
   Client-side validation
   Server-side validation (backend)

5. XSS Protection
   Angular's built-in XSS protection
   Sanitization of user input
   Safe HTML rendering

